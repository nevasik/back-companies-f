create schema advComp;

create table advComp.User -- Сотрудник  и и пользователи
(
    user_id int generated by default as identity primary key,
    last_name varchar(250) not null, -- фамилия
    first_name varchar(100) not null, -- имя
    second_name varchar(250), -- отчество
    email varchar(250) not null,
    role varchar not null default 'user'
);

create table advComp.Compain -- Компания
(
    compain_id int generated by default as identity primary key,
    name varchar(250) not null,
    budget decimal not null default 0.0,
    target_audience varchar(500), -- описание целеовой аудитории
    start_date date not null default now(),
    end_date date not null default now() + interval '365 day', -- по дефолту компания будет действовать год
    user_id int references advComp.User(user_id)
);

create table advComp.Content -- Хранение информации о контенте, используемом в рекламных кампаниях.
(
    content_id int generated by default as identity primary key,
    content_type varchar(750),
    content_url varchar(1000),
    compain_id int references advComp.Compain(compain_id)
);

create table Statistics -- статистика компаний
(
    statistics_id int generated by default as identity primary key,
    views int default 0, -- кол-во просмотров
    clicks int default 0, -- кол-во кликов
    conversions int, -- кол-во конверсий(соотношение числа посетителей сайта, выполнивших на нём какие-либо целевые действия, к общему числу посетителей сайта)
    compain_id int references advComp.Compain(compain_id),
    date date default now(),
    isBig bool
);
